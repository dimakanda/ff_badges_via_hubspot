require 'spec_helper'

describe '<%= name %> Badge', observer: 'FfBadges::Observers::<%= badge_module_name -%>Observer' do
  let!(:user) { create :user }
  let!(:badge) { create :<%= badge_filename %>_badge<%= invertable ? ', invertable: true' : '' -%>}

  it 'should give user the <%= name %> badge' do
    
    # TODO put a code which should trigger earning badge here

    within '#ff_badges_modal' do
      expect(page).to have_content badge.name
      expect(page).to have_content badge.message
    end
  end
  <% if invertable %>
  it 'should remove user <%= name %> badge' do
    # TODO put a code which should trigger remove badge here
  end
  <% end %>
end